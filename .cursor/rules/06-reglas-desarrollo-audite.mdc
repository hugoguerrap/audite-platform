---
alwaysApply: true
---

# Reglas de Desarrollo AuditE - Cumplimiento Obligatorio

## üéØ REGLAS FUNDAMENTALES DEL PROYECTO

### ‚úÖ REGLA 1: Seguimiento del Plan
- **SIEMPRE** consultar [PLAN_IMPLEMENTACION_FORMULARIOS_INDUSTRIA.md](mdc:PLAN_IMPLEMENTACION_FORMULARIOS_INDUSTRIA.md) antes de cualquier desarrollo
- **NUNCA** implementar funcionalidades fuera del plan establecido
- **OBLIGATORIO** marcar tareas como `[x]` solo cuando est√©n 100% completas y funcionando

### ‚úÖ REGLA 2: Compatibilidad con Sistema Actual
- **MANTENER** funcionando el flujo actual: [Home.tsx](mdc:audite-frontend-explorer/src/pages/Home.tsx) ‚Üí `/diagnostico` ‚Üí [AutodiagnosticoPage.tsx](mdc:audite-frontend-explorer/src/pages/Autodiagnostico/AutodiagnosticoPage.tsx)
- **PRESERVAR** todas las APIs existentes en [config/api.ts](mdc:audite-frontend-explorer/src/config/api.ts)
- **NO TOCAR** el sistema de [FairDiagnostic](mdc:audite-frontend-explorer/src/pages/FairDiagnostic/) (es experimental)

### ‚úÖ REGLA 3: Estructura de Archivos
- **USAR** exactamente las ubicaciones especificadas en el plan
- **RESPETAR** la arquitectura actual de carpetas
- **EXTENDER** sin romper la estructura existente

### ‚úÖ REGLA 4: Backend Development
- **SEGUIR** el patr√≥n existente: models.py ‚Üí schemas.py ‚Üí crud.py ‚Üí routers/
- **USAR** las mismas convenciones de [app/routers/autodiagnostico.py](mdc:audite/app/routers/autodiagnostico.py)
- **INCLUIR** en [app/main.py](mdc:audite/app/main.py) todos los nuevos routers

### ‚úÖ REGLA 5: Frontend Development
- **REUTILIZAR** la l√≥gica de [useAutodiagnostico.ts](mdc:audite-frontend-explorer/src/hooks/useAutodiagnostico.ts)
- **SEGUIR** el patr√≥n de componentes de [src/pages/Autodiagnostico/](mdc:audite-frontend-explorer/src/pages/Autodiagnostico/)
- **USAR** shadcn/ui components y Tailwind CSS

### ‚úÖ REGLA 6: Preguntas Condicionales
- **IMPLEMENTAR** evaluaci√≥n tanto en frontend como backend
- **VALIDAR** l√≥gica condicional para evitar loops infinitos
- **SOPORTAR** operadores: "=", "!=", "includes", "not_includes"

### ‚úÖ REGLA 7: Campos "Otro"
- **MOSTRAR** input din√°mico cuando se selecciona "Otro"
- **VALIDAR** campos "Otro" si son requeridos
- **GUARDAR** por separado del valor principal de la respuesta

## üö´ PROHIBICIONES CR√çTICAS

### ‚ùå NO TOCAR (C√≥digo Legacy/Experimental):
- **feriaService** en [src/lib/legacyApi.ts](mdc:audite-frontend-explorer/src/lib/legacyApi.ts)
- **P√°ginas de FairDiagnostic** en [src/pages/FairDiagnostic/](mdc:audite-frontend-explorer/src/pages/FairDiagnostic/)
- **URLs que no est√°n en config/api.ts**

### ‚ùå NUNCA HACER:
- Modificar APIs existentes que funcionan
- Cambiar la estructura de respuestas actuales
- Romper la autenticaci√≥n admin existente
- Crear archivos fuera de las ubicaciones del plan

## üîÑ WORKFLOW DE DESARROLLO OBLIGATORIO

### ANTES de cada commit:
1. ‚úÖ Verificar que el plan est√° actualizado con tareas marcadas
2. ‚úÖ Confirmar que el sistema actual sigue funcionando
3. ‚úÖ Validar que nuevas funcionalidades no rompen existentes
4. ‚úÖ Actualizar observaciones en el plan si es necesario

### DESPU√âS de cada implementaci√≥n:
1. ‚úÖ Probar funcionalidad implementada
2. ‚úÖ Verificar integraci√≥n con sistema existente
3. ‚úÖ Marcar tarea como completa `[x]` en el plan
4. ‚úÖ Documentar cualquier cambio o decisi√≥n t√©cnica

## üìã REFERENCIAS CLAVE
- **Plan principal:** [PLAN_IMPLEMENTACION_FORMULARIOS_INDUSTRIA.md](mdc:PLAN_IMPLEMENTACION_FORMULARIOS_INDUSTRIA.md)
- **APIs funcionales:** [src/config/api.ts](mdc:audite-frontend-explorer/src/config/api.ts)
- **Flujo principal:** [src/pages/Home.tsx](mdc:audite-frontend-explorer/src/pages/Home.tsx) ‚Üí [src/hooks/useAutodiagnostico.ts](mdc:audite-frontend-explorer/src/hooks/useAutodiagnostico.ts)
- **Admin panel:** [src/pages/Admin/AdminDashboard.tsx](mdc:audite-frontend-explorer/src/pages/Admin/AdminDashboard.tsx)
